<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Draft Analysis Dashboard</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <h1 class="mt-5">Draft Analysis Dashboard</h1>
        <p class="lead">This dashboard displays the success rate of draft picks by different teams since 1989.</p>

        <!-- Introduction Textbox -->
        <div class="card mt-4">
            <div class="card-body">
                <h5 class="card-title">Introduction</h5>
                <p class="card-text">
                    To determine successful draft picks, we first compiled draft data from various teams by reading multiple CSV files and adding a team identifier to each dataset. 
                    We then merged these datasets into a single comprehensive DataFrame. We ensured all relevant metrics, such as VORP, WS, and BPM, were numeric and removed any rows 
                    containing missing values in these key metrics. We then used two different methodologies as displayed below:
                </p>
            </div>
        </div>

        <!-- Z-Score Methodology -->
        <div class="card mt-4">
            <div class="card-body">
                <h5 class="card-title">Z-Score Methodology</h5>
                <p class="card-text">
                    We calculated z-scores for these metrics within each draft year and draft position to normalize the 
                    performance data. Weighted scores were then computed for each player based on these z-scores, 
                    with specific weights assigned to each metric and z-score category. A threshold was set for determining success, 
                    with players whose weighted scores exceeded 0.7 deemed successful draft picks. Finally, we identified and listed the 
                    successful picks and saved the augmented dataset to a new CSV file.
                </p>
                <p class="card-text">The following bar chart shows the success rate of draft picks by team:</p>
                <img src="{{ url_for('static', filename='images/successful_pick_percentage_zScore_sorted.png') }}" alt="Successful Pick Percentage by Teams (Z-Score)" class="img-fluid">
            </div>
        </div>

        <div class="card mt-4">
            <div class="card-body">
                <h5 class="card-title">Success Rate by Team (Z-Score)</h5>
                <ul class="list-group">
                    {% for team, rate in success_rate_zscore.items() %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            {{ team }}
                            <span class="badge badge-primary badge-pill">{{ rate|round(2) }}%</span>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>

        <!-- Percentile Methodology -->
        <div class="card mt-4">
            <div class="card-body">
                <h5 class="card-title">Percentile Methodology</h5>
                <p class="card-text">
                    Our methodology for identifying successful picks combined two criteria: (1) players whose VORP, WS, and BPM values exceeded the median 
                    plus 1.25 times the standard deviation for their draft year, 
                    and (2) players whose percentile ranks for these metrics were above 70% both within their draft year and their draft position. 
                    Players meeting either criterion were considered successful. 
                </p>
                <p class="card-text">The following bar chart shows the success rate of draft picks by team:</p>
                <img src="{{ url_for('static', filename='images/successful_pick_percentage_percentile_sorted.png') }}" alt="Successful Pick Percentage by Teams (Percentile)" class="img-fluid">
            </div>
        </div>

        <div class="card mt-4">
            <div class="card-body">
                <h5 class="card-title">Success Rate by Team (Percentile)</h5>
                <ul class="list-group">
                    {% for team, rate in success_rate_percentile.items() %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            {{ team }}
                            <span class="badge badge-primary badge-pill">{{ rate|round(2) }}%</span>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</body>
</html>
